# EPC_nsdwg.yaml

 nsd:
  nsd:
  - description: NS based on SimulaMet OpenAirInterface Evolved Packet Core NS
    df:
    - id: default-df
      vnf-profile:
      - id: '1'
        virtual-link-connectivity:
        - constituent-cpd-id:
          - constituent-base-element-id: '1'
            constituent-cpd-id: hss-ens3
          virtual-link-profile-id: mgmtnet
        - constituent-cpd-id:
          - constituent-base-element-id: '2'
            constituent-cpd-id: hss-ens4
            ip-address: 192.168.8.1
          virtual-link-profile-id: s6a
        vnfd-id: SimulaMet-OAI-EPC_hsswg
      
      - id: '2'
        virtual-link-connectivity:
        - constituent-cpd-id:
          - constituent-base-element-id: '1'
            constituent-cpd-id: mme-ens3
          virtual-link-profile-id: mgmtnet
        - constituent-cpd-id:
          - constituent-base-element-id: '2'
            constituent-cpd-id: mme-ens4
            ip-address: 192.168.8.2
          virtual-link-profile-id: s6a
        - constituent-cpd-id:
          - constituent-base-element-id: '3'
            constituent-cpd-id: mme-ens5
            ip-address: 172.16.1.102
          virtual-link-profile-id: s11
        - constituent-cpd-id:
          - constituent-base-element-id: '4'
            constituent-cpd-id: mme-ens6
          virtual-link-profile-id: s1c
        vnfd-id: SimulaMet-OAI-EPC_mmewg

      - id: '3'
        virtual-link-connectivity:
        - constituent-cpd-id:
          - constituent-base-element-id: '1'
            constituent-cpd-id: spgwc-ens3
          virtual-link-profile-id: mgmtnet
        - constituent-cpd-id:
          - constituent-base-element-id: '2'
            constituent-cpd-id: spgwc-ens4
            ip-address: 172.55.55.101
          virtual-link-profile-id: sxab
        - constituent-cpd-id:
          - constituent-base-element-id: '3'
            constituent-cpd-id: spgwc-ens5
            ip-address: 172.16.1.104
          virtual-link-profile-id: s11
        vnfd-id: SimulaMet-OAI-EPC_spgwcwg
        
      - id: '4'
        virtual-link-connectivity:
        - constituent-cpd-id:
          - constituent-base-element-id: '1'
            constituent-cpd-id: spgwu-ens3
          virtual-link-profile-id: mgmtnet
        - constituent-cpd-id:
          - constituent-base-element-id: '2'
            constituent-cpd-id: spgwu-ens4
            ip-address: 172.55.55.102
          virtual-link-profile-id: sxab
        - constituent-cpd-id:
          - constituent-base-element-id: '3'
            constituent-cpd-id: spgwu-ens5
          virtual-link-profile-id: s1u
        - constituent-cpd-id:
          - constituent-base-element-id: '4'
            constituent-cpd-id: spgwu-ens6
          virtual-link-profile-id: sgi
        vnfd-id: SimulaMet-OAI-EPC_spgwuwg
        
      virtual-link-profile:
      - id: s6a
        virtual-link-desc-id: s6a
        virtual-link-protocol-data:
          l3-protocol-data:
            ip-version: ipv4
            #cidr: 172.16.6.0/24
            cidr: 192.168.8.0/24
            dhcp-enabled: true
      - id: s11
        virtual-link-desc-id: s11
        virtual-link-protocol-data:
          l3-protocol-data:
            ip-version: ipv4
            cidr: 172.16.1.0/24
            dhcp-enabled: true
      - id: sxab
        virtual-link-desc-id: sxab
        virtual-link-protocol-data:
          l3-protocol-data:
            ip-version: ipv4
            cidr: 172.55.55.0/24
            dhcp-enabled: true


    id: OAI-EPC_nsdwg2
    name: OAI-EPC_nsdwg2
    version: '1.0'
    
    virtual-link-desc:
    - id: mgmtnet
      mgmt-network: true
      vim-network-name: mgmtnet
    - id: s11
    - id: sgi
    - id: s1u
    - id: sxab
    - id: s1c
    - id: s6a
   

    vnfd-id:
    - OAI-EPC_hsswg
    - OAI-EPC_mmewg
    - OAI-EPC_spgwcwg
    - OAI-EPC_spgwuwg
    
    ns-configuration:
      relation:
      - name: relation
        entities:
        - id: '1'
          endpoint: interfaces6a
        - id: '2'
          endpoint: interfaces6a
